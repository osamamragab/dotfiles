#!/bin/sh

min=20
max=80
step=20

bri="$(brillo -G)"
bri="${bri%.??}"

case "$1" in
	set) brillo -S "${2:-$max}" ;;
	inc) [ "$bri" -lt "$max" ] && brillo -A "${2:-$step}" ;;
	dec) [ "$bri" -gt "$min" ] && brillo -U "${2:-$step}" ;;
	*) exit 1 ;;
esac

bri="$(brillo -G)"
bri="${bri%.??}"

icon="display-brightness-medium"
if [ "$bri" -ge $max ]; then
	icon="display-brightness-high"
elif [ "$bri" -le $min ]; then
	icon="display-brightness-low"
fi

notify-send -r 9991 -u low -a "$(basename "$0")" -i "$icon" -h "int:value:$bri" "brightness" "$bri%"
