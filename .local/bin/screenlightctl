#!/bin/sh

min=10
max=100
step=10

bri="$(xbacklight -get)"
case "$1" in
	set) xbacklight -set "${2:-$max}" ;;
	inc) [ "$bri" -lt "$max" ] && xbacklight -inc "${2:-$step}" ;;
	dec) [ "$bri" -gt "$min" ] && xbacklight -dec "${2:-$step}" ;;
	*) exit 1 ;;
esac

bri="$(xbacklight -get)"
icon="display-brightness-medium"
if [ "$bri" -ge $max ]; then
	icon="display-brightness-high"
elif [ "$bri" -le $min ]; then
	icon="display-brightness-low"
fi

notify-send -r 9991 -u low -a "$(basename "$0")" -i "$icon" -h "int:value:$bri" "brightness" "$bri%"
