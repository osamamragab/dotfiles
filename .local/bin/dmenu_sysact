#!/bin/sh

sel="${1:-$(printf "lock\nexit\nrefresh\nsuspend\nhibernate\nreboot\npoweroff" | dmenu -i)}"
[ -z "$sel" ] && exit 1

case "$sel" in
	lock) locker ;;
	exit) kill -TERM "$(pidof -sx dwm)" ;;
	refresh) kill -HUP "$(pidof -sx dwm)" ;;
	suspend) doas loginctl suspend -i ;;
	hibernate) doas loginctl hibernate -i ;;
	reboot) doas loginctl reboot -i ;;
	poweroff) doas loginctl poweroff -i ;;
	*)
		notify-send -u critical -a "$(basename "$0")"  "invalid command" "$sel"
		exit 1
		;;
esac
