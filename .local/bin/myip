#!/bin/sh

ippublic() {
	dig +short myip.opendns.com @resolver1.opendns.com
}

iplocal() {
	ip a | sed -En "s/127.0.0.1//;s/.*inet (addr:)?(([0-9]*\.){3}[0-9]*).*/\2/p"
}

case "$1" in
	public) ippublic ;;
	local) iplocal ;;
	"")
		ippublic
		iplocal
		;;
esac
